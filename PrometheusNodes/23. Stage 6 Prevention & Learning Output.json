[
  {
    "output": {
      "stage": "prevention_learning",
      "incident_summary": {
        "id": "INC-ctx-1765629808596-j4tf5t",
        "title": "Kubernetes Cluster Issue",
        "duration": "3600 ms",
        "severity": "medium",
        "services_affected": [
          "default"
        ],
        "customer_impact": "Limited impact",
        "root_cause": "Memory leak in component",
        "resolution": "Rollback and memory limit increase applied"
      },
      "prevention_actions": [
        {
          "type": "monitoring",
          "action": "Add memory leak detection alert for namespaces: default",
          "status": "planned"
        },
        {
          "type": "code_fix",
          "action": "Fix identified issue in component",
          "status": "in_progress"
        },
        {
          "type": "configuration",
          "action": "Implement resource limits in all services",
          "status": "planned"
        },
        {
          "type": "process",
          "action": "Add automated testing for memory issues",
          "status": "planned"
        }
      ],
      "knowledge_base_update": {
        "alert_name": "No alerts",
        "kb_updated": true,
        "entry_id": "KB-ctx-1765629808596-j4tf5t"
      },
      "runbook_updates": [
        {
          "runbook": "Kubernetes Troubleshooting",
          "section": "Memory Issues",
          "addition": "Context ctx-1765629808596-j4tf5t: Memory leak detection and rollback strategy",
          "url": "https://runbooks.company.com/ctx-1765629808596-j4tf5t"
        }
      ],
      "team_recommendations": [
        {
          "team": "platform-team",
          "action": "Review and implement prevention actions for memory issues",
          "priority": "high"
        },
        {
          "team": "sre-team",
          "action": "Update monitoring for memory usage",
          "priority": "medium"
        }
      ],
      "follow_up_schedule": [
        {
          "action": "Verify fix in component",
          "when": "Next release cycle",
          "owner": "platform-team"
        },
        {
          "action": "Review metrics for recurrence",
          "when": "Daily for 1 week",
          "owner": "sre-team"
        },
        {
          "action": "Post-mortem meeting",
          "when": "Within 1 week",
          "attendees": [
            "platform-team",
            "sre-team",
            "affected-service-teams"
          ]
        }
      ],
      "metrics_improvements": {
        "new_alerts": 1,
        "runbook_updates": 1,
        "kb_entries": 1,
        "process_improvements": 2,
        "estimated_future_prevention": "75%"
      },
      "final_status": {
        "incident_resolved": true,
        "prevention_implemented": false,
        "learning_captured": true,
        "ready_for_next": true
      },
      "_context": {
        "contextId": "ctx-1765629808596-j4tf5t",
        "createdAt": "2025-12-13T12:44:04.533Z",
        "priority": "medium",
        "forceDeepAnalysis": false
      },
      "_debug": {
        "nodeType": "Stage 6: Prevention & Learning",
        "processedAt": "2025-12-13T12:44:04.533Z",
        "contextId": "ctx-1765629808596-j4tf5t",
        "contextPreserved": true,
        "receivedFromStage": "Stage 5: AI-Powered Analysis",
        "stageSequence": [
          "Unified Entry Point",
          "Stage 1: Health Snapshot",
          "Stage 2: Deep Analysis",
          "Stage 3: Alert Intelligence",
          "Stage 4: Automated Diagnosis",
          "Stage 5: AI-Powered Analysis",
          "Stage 6: Prevention & Learning"
        ],
        "totalStagesExecuted": 6,
        "workflowComplete": true
      }
    }
  }
]