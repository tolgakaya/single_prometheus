[
  {
    "output": {
      "stage": "deep_analysis",
      "investigation_id": "ctx-1765884958296-sowzfe-s2",
      "execution_phases": {
        "instant": {
          "tools_used": [
            "Pod_Resource_Usage",
            "Container_Restarts",
            "Pod_Status_Check",
            "Application_Metrics",
            "Kubernetes_HPA_Status",
            "Kubernetes_PVC_Status"
          ],
          "findings": {
            "critical_pods": [],
            "resource_pressure": [
              {
                "pod": "kubecost-aggregator-0",
                "memory_usage": "2306797568"
              },
              {
                "pod": "elasticsearch-data-0",
                "memory_usage": "2290237440"
              }
            ]
          }
        },
        "trend": {
          "tools_used": [
            "Anomaly_Patterns",
            "Resource_Exhaustion_Prediction",
            "Historical_Comparison_24h"
          ],
          "findings": {
            "memory_growth": "",
            "restart_pattern": ""
          }
        },
        "anomaly": {
          "tools_used": [
            "HTTP_Error_Rates",
            "Node_Network_Health",
            "Node_Conditions",
            "Node_Resource_Status"
          ],
          "findings": {
            "predictions": [],
            "anomalies": []
          }
        }
      },
      "correlation_matrix": {
        "primary_chain": "service",
        "affected_services": [
          "prometheus-kube-state-metrics",
          "kube-state-metrics",
          "domain-config-service"
        ],
        "blast_radius": "service",
        "kubernetes_impact": {
          "evicted_pods": 0,
          "pending_pods": 0,
          "failed_schedules": 0
        }
      },
      "root_cause": {
        "identified": false,
        "category": "APPLICATION"
      },
      "cascading_effects": {
        "hasCascadingFailures": false,
        "affectedComponents": [],
        "spreadPattern": "isolated",
        "cascadeCategory": "APPLICATION"
      },
      "proceed_to_stage3": true,
      "alert_correlation_needed": true,
      "triggered_by": "Stage 1: 1 alerts, Status: critical",
      "alert_category": "APPLICATION",
      "knowledge_base_enhanced": true,
      "_debug": {
        "nodeType": "Stage 2: Deep Analysis",
        "processedAt": "2025-12-16T11:36:32.724Z",
        "contextId": "ctx-1765884958296-sowzfe",
        "contextPreserved": true,
        "receivedFromStage": "Fix Stage2 Json",
        "stageSequence": [
          "Unified Entry Point",
          "Stage 1",
          "Stage 2 Decision",
          "Force Deep Analysis Override",
          "Fix Stage 2 Context"
        ],
        "rootCauseExtracted": false,
        "cascadingDetected": false,
        "alertCategory": "APPLICATION",
        "timeRangeUsed": {
          "start": 1765881358,
          "end": 1765884958
        }
      }
    },
    "_context": {
      "contextId": "ctx-1765884958296-sowzfe",
      "createdAt": "2025-12-16T11:35:58.296Z",
      "source": {
        "type": "alert-listener",
        "priority": "critical"
      },
      "initialParams": {
        "startTime": 1765881358,
        "endTime": 1765884958,
        "namespaces": [
          "etiyamobile-production"
        ],
        "services": [
          "prometheus-kube-state-metrics",
          "kube-state-metrics",
          "domain-config-service"
        ],
        "focusAreas": [
          "Pod is crash looping",
          "Container startup failure",
          "Chaos engineering test pattern"
        ],
        "analysisType": "alert-driven",
        "context": {
          "alertName": "KubePodCrashLooping",
          "alertId": "alert-1765884958197",
          "alertPriority": "critical",
          "source": "alertmanager",
          "kubernetes": {
            "container": "domain-config-service",
            "pod": "domain-config-service-t3-645d68cbc8-4h88r",
            "namespace": "etiyamobile-production",
            "namespaces": [
              "etiyamobile-production"
            ],
            "service": "prometheus-kube-state-metrics",
            "deployment": null,
            "node": null,
            "persistentvolumeclaim": null,
            "volumename": null,
            "useSpecificFilters": true,
            "useMultiNamespace": false
          },
          "affectedServices": [
            "prometheus-kube-state-metrics",
            "kube-state-metrics",
            "domain-config-service"
          ],
          "errorPatterns": [
            "Pod is crash looping",
            "Container startup failure",
            "Chaos engineering test pattern"
          ],
          "alerts": [
            {
              "alertname": "KubePodCrashLooping",
              "severity": "critical"
            }
          ]
        }
      },
      "kubernetesFilters": {
        "container": "domain-config-service",
        "pod": "domain-config-service-t3-645d68cbc8-4h88r",
        "namespace": "etiyamobile-production",
        "namespaces": [
          "etiyamobile-production"
        ],
        "service": "prometheus-kube-state-metrics",
        "deployment": null,
        "node": null,
        "persistentvolumeclaim": null,
        "volumename": null,
        "useSpecificFilters": true,
        "useMultiNamespace": false
      },
      "alertContext": {
        "alertName": "KubePodCrashLooping",
        "alertId": "alert-1765884958197",
        "alertPriority": "critical",
        "source": "alertmanager",
        "kubernetes": {
          "container": "domain-config-service",
          "pod": "domain-config-service-t3-645d68cbc8-4h88r",
          "namespace": "etiyamobile-production",
          "namespaces": [
            "etiyamobile-production"
          ],
          "service": "prometheus-kube-state-metrics",
          "deployment": null,
          "node": null,
          "persistentvolumeclaim": null,
          "volumename": null,
          "useSpecificFilters": true,
          "useMultiNamespace": false
        },
        "affectedServices": [
          "prometheus-kube-state-metrics",
          "kube-state-metrics",
          "domain-config-service"
        ],
        "errorPatterns": [
          "Pod is crash looping",
          "Container startup failure",
          "Chaos engineering test pattern"
        ],
        "alerts": [
          {
            "alertname": "KubePodCrashLooping",
            "severity": "critical"
          }
        ]
      },
      "stageConfig": {
        "maxStages": 6,
        "enablePatternAnalysis": true,
        "enableAnomalyDetection": true,
        "enablePredictiveAnalysis": true,
        "forceDeepAnalysis": true
      },
      "priority": "critical",
      "forceDeepAnalysis": true,
      "workflowMetadata": {
        "workflowId": "LBDqj72azAqepcuC",
        "executionId": "6321",
        "requestId": "alert-alert-1765884958197-1765884958208",
        "orchestratorId": "direct-1765884958208"
      },
      "alertCategory": "APPLICATION",
      "stageResults": {
        "stage1": {
          "stage": "initial_analysis",
          "timestamp": "2025-12-16T11:36:58.296Z",
          "cluster": "etiyamobile-production",
          "overall_status": "critical",
          "proceed_to_stage2": true,
          "urgency": "critical",
          "reason": "The alert KubePodCrashLooping is active and critical. No additional alerts or cascading effects detected in the same namespace.",
          "alerts": {
            "total": 1,
            "critical": 1,
            "warning": 0,
            "top_alerts": [
              "KubePodCrashLooping"
            ]
          },
          "scores": {
            "cluster_health": 50,
            "node_availability": 100,
            "pod_stability": 20,
            "api_reliability": 100
          },
          "quick_findings": [
            "Pod domain-config-service-t3-645d68cbc8-4h88r is crash looping.",
            "No other alerts detected in the same namespace.",
            "Cluster health is degraded due to pod instability."
          ],
          "forceDeepAnalysis": true,
          "_context": {
            "contextId": "ctx-1765884958296-sowzfe",
            "createdAt": "2025-12-16T11:35:58.296Z",
            "source": {
              "type": "alert-listener",
              "priority": "critical"
            },
            "initialParams": {
              "startTime": 1765881358,
              "endTime": 1765884958,
              "namespaces": [
                "etiyamobile-production"
              ],
              "services": [
                "prometheus-kube-state-metrics",
                "kube-state-metrics",
                "domain-config-service"
              ],
              "focusAreas": [
                "Pod is crash looping",
                "Container startup failure",
                "Chaos engineering test pattern"
              ],
              "analysisType": "alert-driven",
              "context": {
                "alertName": "KubePodCrashLooping",
                "alertId": "alert-1765884958197",
                "alertPriority": "critical",
                "source": "alertmanager",
                "kubernetes": {
                  "container": "domain-config-service",
                  "pod": "domain-config-service-t3-645d68cbc8-4h88r",
                  "namespace": "etiyamobile-production",
                  "namespaces": [
                    "etiyamobile-production"
                  ],
                  "service": "prometheus-kube-state-metrics",
                  "deployment": null,
                  "node": null,
                  "persistentvolumeclaim": null,
                  "volumename": null,
                  "useSpecificFilters": true,
                  "useMultiNamespace": false
                },
                "affectedServices": [
                  "prometheus-kube-state-metrics",
                  "kube-state-metrics",
                  "domain-config-service"
                ],
                "errorPatterns": [
                  "Pod is crash looping",
                  "Container startup failure",
                  "Chaos engineering test pattern"
                ],
                "alerts": [
                  {
                    "alertname": "KubePodCrashLooping",
                    "severity": "critical"
                  }
                ]
              }
            },
            "kubernetesFilters": {
              "container": "domain-config-service",
              "pod": "domain-config-service-t3-645d68cbc8-4h88r",
              "namespace": "etiyamobile-production",
              "namespaces": [
                "etiyamobile-production"
              ],
              "service": "prometheus-kube-state-metrics",
              "deployment": null,
              "node": null,
              "persistentvolumeclaim": null,
              "volumename": null,
              "useSpecificFilters": true,
              "useMultiNamespace": false
            },
            "alertContext": {
              "alertName": "KubePodCrashLooping",
              "alertId": "alert-1765884958197",
              "alertPriority": "critical",
              "source": "alertmanager",
              "kubernetes": {
                "container": "domain-config-service",
                "pod": "domain-config-service-t3-645d68cbc8-4h88r",
                "namespace": "etiyamobile-production",
                "namespaces": [
                  "etiyamobile-production"
                ],
                "service": "prometheus-kube-state-metrics",
                "deployment": null,
                "node": null,
                "persistentvolumeclaim": null,
                "volumename": null,
                "useSpecificFilters": true,
                "useMultiNamespace": false
              },
              "affectedServices": [
                "prometheus-kube-state-metrics",
                "kube-state-metrics",
                "domain-config-service"
              ],
              "errorPatterns": [
                "Pod is crash looping",
                "Container startup failure",
                "Chaos engineering test pattern"
              ],
              "alerts": [
                {
                  "alertname": "KubePodCrashLooping",
                  "severity": "critical"
                }
              ]
            },
            "stageConfig": {
              "maxStages": 6,
              "enablePatternAnalysis": true,
              "enableAnomalyDetection": true,
              "enablePredictiveAnalysis": true,
              "forceDeepAnalysis": true
            },
            "priority": "critical",
            "forceDeepAnalysis": true,
            "workflowMetadata": {
              "workflowId": "LBDqj72azAqepcuC",
              "executionId": "6321",
              "requestId": "alert-alert-1765884958197-1765884958208",
              "orchestratorId": "direct-1765884958208"
            },
            "stageResults": {
              "stage1": {
                "output": {
                  "overall_status": "critical",
                  "alerts": {
                    "total": 1,
                    "critical": 1,
                    "warning": 0,
                    "top_alerts": [
                      "KubePodCrashLooping"
                    ]
                  },
                  "scores": {
                    "cluster_health": 50,
                    "node_availability": 100,
                    "pod_stability": 20,
                    "api_reliability": 100
                  },
                  "quick_findings": [
                    "Pod domain-config-service-t3-645d68cbc8-4h88r is crash looping.",
                    "No other alerts detected in the same namespace.",
                    "Cluster health is degraded due to pod instability."
                  ],
                  "proceed_to_stage2": true,
                  "urgency": "critical",
                  "reason": "The alert KubePodCrashLooping is active and critical. No additional alerts or cascading effects detected in the same namespace.",
                  "forceDeepAnalysis": true
                },
                "completedAt": "2025-12-16T11:36:19.817Z",
                "decision": true,
                "status": "critical",
                "alerts": 1
              }
            },
            "decisions": {},
            "debug": {
              "contextVersion": "1.0",
              "createdBy": "Unified Entry Point",
              "sourceType": "alert-listener",
              "alertName": "KubePodCrashLooping",
              "priority": "critical"
            }
          }
        },
        "forceDeepAnalysisOverride": {
          "output": {
            "overrideApplied": true,
            "reason": "Deep analysis forced due to critical priority from alert-listener",
            "originalPriority": "critical",
            "originalSource": {
              "type": "alert-listener",
              "priority": "critical"
            }
          },
          "completedAt": "2025-12-16T11:36:19.846Z"
        },
        "stage2": {
          "output": {
            "root_cause": {
              "identified": false,
              "category": "APPLICATION"
            },
            "affected_services": [
              "prometheus-kube-state-metrics",
              "kube-state-metrics",
              "domain-config-service"
            ],
            "cascading_effects": {
              "hasCascadingFailures": false,
              "affectedComponents": [],
              "spreadPattern": "isolated",
              "cascadeCategory": "APPLICATION"
            },
            "critical_pods": 0,
            "kubernetes_impact": {
              "evicted_pods": 0,
              "pending_pods": 0,
              "failed_schedules": 0
            },
            "alert_category": "APPLICATION"
          },
          "completedAt": "2025-12-16T11:36:32.731Z",
          "decision": true,
          "rootCauseIdentified": false
        }
      },
      "decisions": {
        "forceDeepAnalysisOverride": {
          "timestamp": "2025-12-16T11:36:19.846Z",
          "forceDeepAnalysis": true,
          "overrideApplied": true,
          "reason": "Deep analysis forced due to critical priority from alert-listener"
        },
        "stage3Proceed": {
          "timestamp": "2025-12-16T11:36:32.731Z",
          "shouldProceed": true,
          "reason": "Priority or category requires full analysis"
        }
      }
    },
    "stage1Data": {
      "overall_status": "critical",
      "alerts": {
        "total": 1,
        "critical": 1,
        "warning": 0,
        "top_alerts": [
          "KubePodCrashLooping"
        ]
      },
      "scores": {
        "cluster_health": 50,
        "node_availability": 100,
        "pod_stability": 20,
        "api_reliability": 100
      },
      "quick_findings": [
        "Pod domain-config-service-t3-645d68cbc8-4h88r is crash looping.",
        "No other alerts detected in the same namespace.",
        "Cluster health is degraded due to pod instability."
      ]
    },
    "stage2Data": {
      "root_cause": {
        "identified": false,
        "category": "APPLICATION"
      },
      "affected_services": [
        "prometheus-kube-state-metrics",
        "kube-state-metrics",
        "domain-config-service"
      ],
      "critical_pods": [],
      "cascading_effects": {
        "hasCascadingFailures": false,
        "affectedComponents": [],
        "spreadPattern": "isolated",
        "cascadeCategory": "APPLICATION"
      },
      "correlation_matrix": {
        "primary_chain": "service",
        "affected_services": [
          "prometheus-kube-state-metrics",
          "kube-state-metrics",
          "domain-config-service"
        ],
        "blast_radius": "service",
        "kubernetes_impact": {
          "evicted_pods": 0,
          "pending_pods": 0,
          "failed_schedules": 0
        }
      },
      "alert_category": "APPLICATION"
    },
    "alertInfo": {
      "alertName": "KubePodCrashLooping",
      "pod": "domain-config-service-t3-645d68cbc8-4h88r",
      "namespace": "etiyamobile-production",
      "priority": "critical",
      "category": "APPLICATION"
    },
    "knowledgeBase": {
      "alertCategory": "APPLICATION",
      "urgencyLevel": "CRITICAL",
      "cascadeRisk": "MEDIUM",
      "kbEntriesAvailable": 9,
      "rootCauseKBValidated": false,
      "enhancementVersion": "KB-Enhanced-Full-v1.0"
    },
    "categoryAnalysis": {
      "category": "APPLICATION",
      "cascadeRisk": {
        "risk": "LOW",
        "spread": "service"
      }
    },
    "proceedToStage3": true
  }
]