[
  {
    "output": "{\n  \"stage\": \"alert_intelligence\",\n  \"active_alerts\": [\n    {\n      \"name\": \"Watchdog\",\n      \"severity\": \"none\",\n      \"count\": 1,\n      \"duration\": \"unknown\",\n      \"labels\": {\n        \"__name__\": \"ALERTS\",\n        \"alertname\": \"Watchdog\",\n        \"alertstate\": \"firing\",\n        \"severity\": \"none\"\n      },\n      \"annotations\": {}\n    },\n    {\n      \"name\": \"InfoInhibitor\",\n      \"severity\": \"none\",\n      \"count\": 6,\n      \"duration\": \"unknown\",\n      \"labels\": {\n        \"__name__\": \"ALERTS\",\n        \"alertname\": \"InfoInhibitor\",\n        \"alertstate\": \"firing\",\n        \"container\": \"fluent-bit\",\n        \"instance\": \"10.94.217.52:10250\",\n        \"namespace\": \"bss-prod-eks-monitoring\",\n        \"pod\": \"fluent-bit-wqw26\",\n        \"service\": \"kube-prometheus-stack-kubelet\",\n        \"severity\": \"none\"\n      },\n      \"annotations\": {}\n    },\n    {\n      \"name\": \"CPUThrottlingHigh\",\n      \"severity\": \"info\",\n      \"count\": 5,\n      \"duration\": \"unknown\",\n      \"labels\": {\n        \"__name__\": \"ALERTS\",\n        \"alertname\": \"CPUThrottlingHigh\",\n        \"alertstate\": \"firing\",\n        \"container\": \"fluent-bit\",\n        \"instance\": \"10.94.157.160:10250\",\n        \"namespace\": \"bss-prod-eks-monitoring\",\n        \"pod\": \"fluent-bit-x4px6\",\n        \"service\": \"kube-prometheus-stack-kubelet\",\n        \"severity\": \"info\"\n      },\n      \"annotations\": {}\n    },\n    {\n      \"name\": \"TargetDown\",\n      \"severity\": \"info\",\n      \"count\": 1,\n      \"duration\": \"unknown\",\n      \"labels\": {\n        \"__name__\": \"ALERTS\",\n        \"alertname\": \"TargetDown\",\n        \"alertstate\": \"firing\",\n        \"job\": \"kubelet\",\n        \"namespace\": \"kube-system\",\n        \"service\": \"kube-prometheus-stack-bss-kubelet\",\n        \"severity\": \"info\"\n      },\n      \"annotations\": {}\n    },\n    {\n      \"name\": \"KubeHpaMaxedOut\",\n      \"severity\": \"warning\",\n      \"count\": 1,\n      \"duration\": \"unknown\",\n      \"labels\": {\n        \"__name__\": \"ALERTS\",\n        \"alertname\": \"KubeHpaMaxedOut\",\n        \"alertstate\": \"firing\",\n        \"container\": \"kube-state-metrics\",\n        \"endpoint\": \"http\",\n        \"horizontalpodautoscaler\": \"bss-tenant-control-plane-batch\",\n        \"instance\": \"10.94.145.151:8080\",\n        \"job\": \"kube-state-metrics\",\n        \"namespace\": \"em-control-plane-prod\",\n        \"pod\": \"kube-prometheus-stack-kube-state-metrics-84c7c44c96-ppvqf\",\n        \"service\": \"kube-prometheus-stack-kube-state-metrics\",\n        \"severity\": \"warning\"\n      },\n      \"annotations\": {}\n    },\n    {\n      \"name\": \"KubeCPUOvercommit\",\n      \"severity\": \"warning\",\n      \"count\": 1,\n      \"duration\": \"unknown\",\n      \"labels\": {\n        \"__name__\": \"ALERTS\",\n        \"alertname\": \"KubeCPUOvercommit\",\n        \"alertstate\": \"firing\",\n        \"severity\": \"warning\"\n      },\n      \"annotations\": {}\n    }\n  ],\n  \"alert_groups\": [\n    {\n      \"root_alert\": \"CPUThrottlingHigh\",\n      \"related_alerts\": [\"InfoInhibitor\", \"KubeCPUOvercommit\"],\n      \"correlation_score\": 0.5,\n      \"shared_labels\": {\n        \"namespace\": \"bss-prod-eks-monitoring\"\n      }\n    }\n  ],\n  \"knowledge_base_matches\": [\n    {\n      \"alert\": \"KubeHpaMaxedOut\",\n      \"kb_entry\": {\n        \"root_causes\": [\"HPA configuration issues\"],\n        \"diagnostic_commands\": [\"kubectl describe hpa\"],\n        \"immediate_actions\": [\"Check HPA configuration\"],\n        \"long_term_solutions\": [\"Adjust HPA thresholds\"]\n      },\n      \"applicability_score\": 0.8\n    }\n  ],\n  \"alert_patterns\": {\n    \"recurring\": [\"CPUThrottlingHigh\", \"InfoInhibitor\"],\n    \"storm_detection\": {\n      \"detected\": false,\n      \"alert_count\": 0,\n      \"time_window\": \"5m\",\n      \"likely_root\": null\n    }\n  },\n  \"slo_impact\": {\n    \"availability_slo\": {\n      \"target\": \"99.9%\",\n      \"current\": \"100%\",\n      \"error_budget_used\": \"0%\",\n      \"time_remaining\": \"30d\",\n      \"components\": {\n        \"deployment_health\": \"100%\"\n      },\n      \"status\": \"green\"\n    },\n    \"affected_slis\": []\n  },\n  \"recommended_alert_actions\": [\n    {\n      \"alert\": \"KubeHpaMaxedOut\",\n      \"action\": \"Check HPA configuration\",\n      \"confidence\": 0.9,\n      \"risk\": \"medium\",\n      \"command\": \"kubectl describe hpa\"\n    }\n  ],\n  \"proceed_to_stage4\": true,\n  \"auto_remediation_approved\": false,\n  \"_context\": {\n    \"contextId\": \"ctx-1765884958296-sowzfe\",\n    \"initialParams\": {\n      \"startTime\": 1765881358,\n      \"endTime\": 1765884958\n    }\n  },\n  \"_debug\": {\n    \"nodeType\": \"Stage 3: Alert Intelligence\",\n    \"processedAt\": \"2023-11-15T06:56:34.000Z\",\n    \"contextId\": \"ctx-1765884958296-sowzfe\",\n    \"contextPreserved\": true,\n    \"receivedFromStage\": \"Fix Stage 2 Context\",\n    \"stageSequence\": [\"Stage 3: Alert Intelligence\"],\n    \"timeRangeUsed\": {\n      \"start\": 1765881358,\n      \"end\": 1765884958\n    },\n    \"sloToolErrors\": [],\n    \"toolCallCount\": 5,\n    \"alertHistoryCallCount\": 1\n  }\n}"
  }
]