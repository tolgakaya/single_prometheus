[
  {
    "output": {
      "stage": "prevention_learning",
      "incident_summary": {
        "id": "INC-ctx-1765884958296-sowzfe",
        "title": "Kubernetes Cluster Issue",
        "duration": "unknown",
        "severity": "critical",
        "services_affected": [
          "prometheus-kube-state-metrics",
          "kube-state-metrics",
          "domain-config-service"
        ],
        "customer_impact": "Limited impact",
        "root_cause": "Pod repeatedly crashes after starting due to resource limits exceeded",
        "resolution": "Remediation applied"
      },
      "prevention_actions": [
        {
          "type": "monitoring",
          "action": "Add memory leak detection alert for namespaces: bss-prod-eks-monitoring",
          "status": "planned"
        },
        {
          "type": "code_fix",
          "action": "Fix identified issue in component",
          "status": "in_progress"
        },
        {
          "type": "configuration",
          "action": "Implement resource limits in all-services",
          "status": "planned"
        },
        {
          "type": "process",
          "action": "Add automated testing for memory issues",
          "status": "planned"
        }
      ],
      "knowledge_base_update": {
        "alert_name": "Watchdog",
        "kb_updated": true,
        "entry_id": "KB-ctx-1765884958296-sowzfe"
      },
      "runbook_updates": [
        {
          "runbook": "-troubleshooting",
          "section": " Priority Issues",
          "addition": "Context ctx-1765884958296-sowzfe: Pod repeatedly crashes after starting",
          "url": "https://runbooks.company.com/ctx-1765884958296-sowzfe"
        }
      ],
      "team_recommendations": [
        {
          "team": "platform-team",
          "action": "Review and implement prevention actions for memory issues",
          "priority": "medium"
        },
        {
          "team": "sre-team",
          "action": "Review incident ctx-1765884958296-sowzfe",
          "priority": "low"
        }
      ],
      "follow_up_schedule": [
        {
          "action": "Verify fix in next release cycle",
          "when": "Next release cycle",
          "owner": "platform-team",
          "attendees": []
        },
        {
          "action": "Review metrics for recurrence",
          "when": "Daily for 1 week",
          "owner": "sre-team",
          "attendees": []
        },
        {
          "action": "Post-mortem meeting",
          "when": "Within 1 week",
          "owner": "",
          "attendees": [
            "platform-team",
            "sre-team",
            "affected-service-teams"
          ]
        }
      ],
      "metrics_improvements": {
        "new_alerts": 1,
        "runbook_updates": 1,
        "kb_entries": 1,
        "process_improvements": 2,
        "estimated_future_prevention": "75%"
      },
      "final_status": {
        "incident_resolved": true,
        "prevention_implemented": false,
        "learning_captured": true,
        "ready_for_next": true
      },
      "_context": {
        "contextId": "ctx-1765884958296-sowzfe",
        "createdAt": "2025-12-16T11:37:26.498Z",
        "priority": "critical",
        "forceDeepAnalysis": false
      },
      "_debug": {
        "nodeType": "Stage 6: Prevention & Learning",
        "processedAt": "2025-12-16T11:37:26.498Z",
        "contextId": "ctx-1765884958296-sowzfe",
        "contextPreserved": true,
        "receivedFromStage": "Stage 5: AI-Powered Analysis",
        "stageSequence": [
          "Unified Entry Point",
          "Stage 1: Health Snapshot",
          "Fix Stage 1 Context",
          "Stage 2 Decision",
          "Force Deep Analysis Override",
          "Wait 3s",
          "Stage 2: Deep Analysis",
          "Fix Stage 2 Context",
          "Stage 3: Alert Intelligence",
          "Fix Stage 3 Context",
          "Stage 4: Automated Diagnosis",
          "Fix Stage 4 Context",
          "Stage 5: AI-Powered Analysis",
          "Fix Stage 5 Context",
          "Stage 6: Prevention & Learning"
        ],
        "totalStagesExecuted": 6,
        "workflowComplete": true
      }
    }
  }
]