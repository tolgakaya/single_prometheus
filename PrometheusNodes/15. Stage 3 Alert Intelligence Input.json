[
  {
    "output": {
      "stage": "deep_analysis",
      "investigation_id": "ctx-1765718599269-mveauf-s2",
      "execution_phases": {
        "instant": {
          "tools_used": [
            "HTTP_Error_Rates",
            "Application_Metrics",
            "Pod_Resource_Usage",
            "Container_Restarts",
            "Node_Network_Health",
            "Pod_Status_Check",
            "Node_Resource_Status",
            "Kubernetes_HPA_Status",
            "Kubernetes_PVC_Status"
          ],
          "findings": {
            "critical_pods": [],
            "resource_pressure": []
          }
        },
        "trend": {
          "tools_used": [
            "Anomaly_Patterns",
            "Resource_Exhaustion_Prediction",
            "Historical_Comparison_24h"
          ],
          "findings": {
            "memory_growth": "",
            "restart_pattern": ""
          }
        },
        "anomaly": {
          "tools_used": [],
          "findings": {
            "predictions": [],
            "anomalies": []
          }
        }
      },
      "correlation_matrix": {
        "primary_chain": "unknown",
        "affected_services": [
          "unknown-namespace"
        ],
        "blast_radius": "unknown",
        "kubernetes_impact": {
          "evicted_pods": 0,
          "pending_pods": 0,
          "failed_schedules": 0
        }
      },
      "root_cause": {
        "identified": false,
        "component": "",
        "issue": "",
        "evidence": [],
        "confidence": 0,
        "category": "API",
        "pattern_matched": null
      },
      "cascading_effects": {
        "hasCascadingFailures": false,
        "affectedComponents": [],
        "spreadPattern": "isolated",
        "cascadeCategory": "API"
      },
      "proceed_to_stage3": true,
      "alert_correlation_needed": true,
      "triggered_by": "Stage 1: 0 alerts, Status: critical",
      "alert_category": "API",
      "knowledge_base_enhanced": false,
      "_debug": {
        "nodeType": "Stage 2: Deep Analysis",
        "processedAt": "2025-12-14T13:23:39.002Z",
        "contextId": "ctx-1765718599269-mveauf",
        "contextPreserved": true,
        "receivedFromStage": "Fix Stage2 Json",
        "stageSequence": [
          "Unified Entry Point",
          "Stage 1",
          "Stage 2 Decision",
          "Force Deep Analysis Override",
          "Fix Stage 2 Context"
        ],
        "rootCauseExtracted": false,
        "cascadingDetected": false,
        "alertCategory": "API",
        "patternMatched": null,
        "timeRangeUsed": {
          "start": 1765714999,
          "end": 1765718599
        }
      }
    },
    "_context": {
      "contextId": "ctx-1765718599269-mveauf",
      "createdAt": "2025-12-14T13:23:19.269Z",
      "source": {
        "type": "alert-listener",
        "priority": "critical"
      },
      "initialParams": {
        "startTime": 1765714999,
        "endTime": 1765718599,
        "namespaces": [
          "bss-prod-eks-monitoring",
          "bstp-cms-global-production",
          "bstp-cms-prod-v3",
          "em-global-prod-3pp",
          "em-global-prod-eom",
          "em-global-prod-flowe",
          "em-global-prod",
          "em-prod-3pp",
          "em-prod-eom",
          "em-prod-flowe",
          "em-prod",
          "em-control-plane-prod"
        ],
        "services": [
          "unknown-namespace"
        ],
        "focusAreas": [
          "Chaos engineering test pattern"
        ],
        "analysisType": "alert-driven",
        "context": {
          "alertName": "KubeAPIDown",
          "alertId": "alert-1765718599169",
          "alertPriority": "critical",
          "source": "alertmanager",
          "kubernetes": {
            "container": null,
            "pod": null,
            "namespace": null,
            "namespaces": [
              "bss-prod-eks-monitoring",
              "bstp-cms-global-production",
              "bstp-cms-prod-v3",
              "em-global-prod-3pp",
              "em-global-prod-eom",
              "em-global-prod-flowe",
              "em-global-prod",
              "em-prod-3pp",
              "em-prod-eom",
              "em-prod-flowe",
              "em-prod",
              "em-control-plane-prod"
            ],
            "service": null,
            "deployment": null,
            "node": null,
            "persistentvolumeclaim": null,
            "volumename": null,
            "useSpecificFilters": false,
            "useMultiNamespace": true
          },
          "affectedServices": [
            "unknown-namespace"
          ],
          "errorPatterns": [
            "Chaos engineering test pattern"
          ],
          "alerts": [
            {
              "alertname": "KubeAPIDown",
              "severity": "critical"
            }
          ]
        }
      },
      "kubernetesFilters": {
        "container": null,
        "pod": null,
        "namespace": null,
        "namespaces": [
          "bss-prod-eks-monitoring",
          "bstp-cms-global-production",
          "bstp-cms-prod-v3",
          "em-global-prod-3pp",
          "em-global-prod-eom",
          "em-global-prod-flowe",
          "em-global-prod",
          "em-prod-3pp",
          "em-prod-eom",
          "em-prod-flowe",
          "em-prod",
          "em-control-plane-prod"
        ],
        "service": null,
        "deployment": null,
        "node": null,
        "persistentvolumeclaim": null,
        "volumename": null,
        "useSpecificFilters": false,
        "useMultiNamespace": true
      },
      "alertContext": {
        "alertName": "KubeAPIDown",
        "alertId": "alert-1765718599169",
        "alertPriority": "critical",
        "source": "alertmanager",
        "kubernetes": {
          "container": null,
          "pod": null,
          "namespace": null,
          "namespaces": [
            "bss-prod-eks-monitoring",
            "bstp-cms-global-production",
            "bstp-cms-prod-v3",
            "em-global-prod-3pp",
            "em-global-prod-eom",
            "em-global-prod-flowe",
            "em-global-prod",
            "em-prod-3pp",
            "em-prod-eom",
            "em-prod-flowe",
            "em-prod",
            "em-control-plane-prod"
          ],
          "service": null,
          "deployment": null,
          "node": null,
          "persistentvolumeclaim": null,
          "volumename": null,
          "useSpecificFilters": false,
          "useMultiNamespace": true
        },
        "affectedServices": [
          "unknown-namespace"
        ],
        "errorPatterns": [
          "Chaos engineering test pattern"
        ],
        "alerts": [
          {
            "alertname": "KubeAPIDown",
            "severity": "critical"
          }
        ]
      },
      "stageConfig": {
        "maxStages": 6,
        "enablePatternAnalysis": true,
        "enableAnomalyDetection": true,
        "enablePredictiveAnalysis": true,
        "forceDeepAnalysis": true
      },
      "priority": "critical",
      "forceDeepAnalysis": true,
      "workflowMetadata": {
        "workflowId": "LBDqj72azAqepcuC",
        "executionId": "5598",
        "requestId": "alert-alert-1765718599169-1765718599181",
        "orchestratorId": "direct-1765718599181"
      },
      "alertCategory": "API",
      "stageResults": {
        "stage1": {
          "stage": "initial_analysis",
          "timestamp": "2023-11-24T18:31:19.000Z",
          "cluster": "null",
          "overall_status": "critical",
          "proceed_to_stage2": true,
          "urgency": "critical",
          "reason": "KubeAPIDown alert is active and critical. Quick Cluster Health and Active Alerts Count indicate potential widespread issues.",
          "alerts": {
            "total": 0,
            "critical": 0,
            "warning": 0
          },
          "scores": {
            "cluster_health": 0,
            "node_availability": 0,
            "pod_stability": 0,
            "api_reliability": 0
          },
          "quick_findings": [
            "No active alerts found in the namespace.",
            "Cluster health check did not return any results, indicating potential API server unavailability."
          ],
          "forceDeepAnalysis": true,
          "overridden": false,
          "_context": {
            "contextId": "ctx-1765718599269-mveauf",
            "createdAt": "2025-12-14T13:23:19.269Z",
            "source": {
              "type": "alert-listener",
              "priority": "critical"
            },
            "initialParams": {
              "startTime": 1765714999,
              "endTime": 1765718599,
              "namespaces": [
                "bss-prod-eks-monitoring",
                "bstp-cms-global-production",
                "bstp-cms-prod-v3",
                "em-global-prod-3pp",
                "em-global-prod-eom",
                "em-global-prod-flowe",
                "em-global-prod",
                "em-prod-3pp",
                "em-prod-eom",
                "em-prod-flowe",
                "em-prod",
                "em-control-plane-prod"
              ],
              "services": [
                "unknown-namespace"
              ],
              "focusAreas": [
                "Chaos engineering test pattern"
              ],
              "analysisType": "alert-driven",
              "context": {
                "alertName": "KubeAPIDown",
                "alertId": "alert-1765718599169",
                "alertPriority": "critical",
                "source": "alertmanager",
                "kubernetes": {
                  "container": null,
                  "pod": null,
                  "namespace": null,
                  "namespaces": [
                    "bss-prod-eks-monitoring",
                    "bstp-cms-global-production",
                    "bstp-cms-prod-v3",
                    "em-global-prod-3pp",
                    "em-global-prod-eom",
                    "em-global-prod-flowe",
                    "em-global-prod",
                    "em-prod-3pp",
                    "em-prod-eom",
                    "em-prod-flowe",
                    "em-prod",
                    "em-control-plane-prod"
                  ],
                  "service": null,
                  "deployment": null,
                  "node": null,
                  "persistentvolumeclaim": null,
                  "volumename": null,
                  "useSpecificFilters": false,
                  "useMultiNamespace": true
                },
                "affectedServices": [
                  "unknown-namespace"
                ],
                "errorPatterns": [
                  "Chaos engineering test pattern"
                ],
                "alerts": [
                  {
                    "alertname": "KubeAPIDown",
                    "severity": "critical"
                  }
                ]
              }
            },
            "kubernetesFilters": {
              "container": null,
              "pod": null,
              "namespace": null,
              "namespaces": [
                "bss-prod-eks-monitoring",
                "bstp-cms-global-production",
                "bstp-cms-prod-v3",
                "em-global-prod-3pp",
                "em-global-prod-eom",
                "em-global-prod-flowe",
                "em-global-prod",
                "em-prod-3pp",
                "em-prod-eom",
                "em-prod-flowe",
                "em-prod",
                "em-control-plane-prod"
              ],
              "service": null,
              "deployment": null,
              "node": null,
              "persistentvolumeclaim": null,
              "volumename": null,
              "useSpecificFilters": false,
              "useMultiNamespace": true
            },
            "alertContext": {
              "alertName": "KubeAPIDown",
              "alertId": "alert-1765718599169",
              "alertPriority": "critical",
              "source": "alertmanager",
              "kubernetes": {
                "container": null,
                "pod": null,
                "namespace": null,
                "namespaces": [
                  "bss-prod-eks-monitoring",
                  "bstp-cms-global-production",
                  "bstp-cms-prod-v3",
                  "em-global-prod-3pp",
                  "em-global-prod-eom",
                  "em-global-prod-flowe",
                  "em-global-prod",
                  "em-prod-3pp",
                  "em-prod-eom",
                  "em-prod-flowe",
                  "em-prod",
                  "em-control-plane-prod"
                ],
                "service": null,
                "deployment": null,
                "node": null,
                "persistentvolumeclaim": null,
                "volumename": null,
                "useSpecificFilters": false,
                "useMultiNamespace": true
              },
              "affectedServices": [
                "unknown-namespace"
              ],
              "errorPatterns": [
                "Chaos engineering test pattern"
              ],
              "alerts": [
                {
                  "alertname": "KubeAPIDown",
                  "severity": "critical"
                }
              ]
            },
            "stageConfig": {
              "maxStages": 6,
              "enablePatternAnalysis": true,
              "enableAnomalyDetection": true,
              "enablePredictiveAnalysis": true,
              "forceDeepAnalysis": true
            },
            "priority": "critical",
            "forceDeepAnalysis": true,
            "workflowMetadata": {
              "workflowId": "LBDqj72azAqepcuC",
              "executionId": "5598",
              "requestId": "alert-alert-1765718599169-1765718599181",
              "orchestratorId": "direct-1765718599181"
            },
            "stageResults": {
              "stage1": {
                "output": {
                  "overall_status": "critical",
                  "alerts": {
                    "total": 0,
                    "critical": 0,
                    "warning": 0
                  },
                  "scores": {
                    "cluster_health": 0,
                    "node_availability": 0,
                    "pod_stability": 0,
                    "api_reliability": 0
                  },
                  "quick_findings": [
                    "No active alerts found in the namespace.",
                    "Cluster health check did not return any results, indicating potential API server unavailability."
                  ],
                  "proceed_to_stage2": true,
                  "urgency": "critical",
                  "reason": "KubeAPIDown alert is active and critical. Quick Cluster Health and Active Alerts Count indicate potential widespread issues.",
                  "forceDeepAnalysis": true,
                  "overridden": false
                },
                "completedAt": "2025-12-14T13:23:28.711Z",
                "decision": true,
                "status": "critical",
                "alerts": 0
              }
            },
            "decisions": {},
            "debug": {
              "contextVersion": "1.0",
              "createdBy": "Unified Entry Point",
              "sourceType": "alert-listener",
              "alertName": "KubeAPIDown",
              "priority": "critical"
            }
          }
        },
        "forceDeepAnalysisOverride": {
          "output": {
            "overrideApplied": true,
            "reason": "Deep analysis forced due to critical priority from alert-listener",
            "originalPriority": "critical",
            "originalSource": {
              "type": "alert-listener",
              "priority": "critical"
            }
          },
          "completedAt": "2025-12-14T13:23:28.735Z"
        },
        "stage2": {
          "output": {
            "root_cause": {
              "identified": false,
              "component": "",
              "issue": "",
              "evidence": [],
              "confidence": 0,
              "category": "API",
              "pattern_matched": null
            },
            "affected_services": [
              "unknown-namespace"
            ],
            "cascading_effects": {
              "hasCascadingFailures": false,
              "affectedComponents": [],
              "spreadPattern": "isolated",
              "cascadeCategory": "API"
            },
            "critical_pods": 0,
            "kubernetes_impact": {
              "evicted_pods": 0,
              "pending_pods": 0,
              "failed_schedules": 0
            },
            "alert_category": "API"
          },
          "completedAt": "2025-12-14T13:23:39.008Z",
          "decision": true,
          "rootCauseIdentified": false
        }
      },
      "decisions": {
        "forceDeepAnalysisOverride": {
          "timestamp": "2025-12-14T13:23:28.735Z",
          "forceDeepAnalysis": true,
          "overrideApplied": true,
          "reason": "Deep analysis forced due to critical priority from alert-listener"
        },
        "stage3Proceed": {
          "timestamp": "2025-12-14T13:23:39.008Z",
          "shouldProceed": true,
          "reason": "Priority or category requires full analysis"
        }
      }
    },
    "stage1Data": {
      "overall_status": "critical",
      "alerts": {
        "total": 0,
        "critical": 0,
        "warning": 0
      },
      "scores": {
        "cluster_health": 0,
        "node_availability": 0,
        "pod_stability": 0,
        "api_reliability": 0
      },
      "quick_findings": [
        "No active alerts found in the namespace.",
        "Cluster health check did not return any results, indicating potential API server unavailability."
      ]
    },
    "stage2Data": {
      "root_cause": {
        "identified": false,
        "component": "",
        "issue": "",
        "evidence": [],
        "confidence": 0,
        "category": "API",
        "pattern_matched": null
      },
      "affected_services": [
        "unknown-namespace"
      ],
      "critical_pods": [],
      "cascading_effects": {
        "hasCascadingFailures": false,
        "affectedComponents": [],
        "spreadPattern": "isolated",
        "cascadeCategory": "API"
      },
      "correlation_matrix": {
        "primary_chain": "unknown",
        "affected_services": [
          "unknown-namespace"
        ],
        "blast_radius": "unknown",
        "kubernetes_impact": {
          "evicted_pods": 0,
          "pending_pods": 0,
          "failed_schedules": 0
        }
      },
      "alert_category": "API"
    },
    "alertInfo": {
      "alertName": "KubeAPIDown",
      "pod": null,
      "namespace": null,
      "priority": "critical",
      "category": "API"
    },
    "knowledgeBase": {
      "alertCategory": "API",
      "urgencyLevel": "BLOCKER",
      "cascadeRisk": "CRITICAL",
      "kbEntriesAvailable": 9,
      "rootCauseKBValidated": false,
      "enhancementVersion": "KB-Enhanced-Full-v1.0"
    },
    "categoryAnalysis": {
      "category": "API",
      "cascadeRisk": {
        "risk": "MEDIUM",
        "spread": "unknown"
      },
      "patternMatched": null,
      "confidence": 0
    },
    "proceedToStage3": true
  }
]