[
  {
    "output": {
      "stage": "alert_intelligence",
      "active_alerts": [
        {
          "name": "Watchdog",
          "severity": "none",
          "count": 1,
          "duration": "unknown",
          "labels": {
            "__name__": "ALERTS",
            "alertname": "Watchdog",
            "alertstate": "firing",
            "severity": "none"
          },
          "annotations": {},
          "category": "UNKNOWN",
          "kb_enriched": false,
          "severity_score": 30,
          "impact_score": 50,
          "correlations": []
        },
        {
          "name": "InfoInhibitor",
          "severity": "none",
          "count": 6,
          "duration": "unknown",
          "labels": {
            "__name__": "ALERTS",
            "alertname": "InfoInhibitor",
            "alertstate": "firing",
            "container": "fluent-bit",
            "instance": "10.94.217.52:10250",
            "namespace": "bss-prod-eks-monitoring",
            "pod": "fluent-bit-wqw26",
            "service": "kube-prometheus-stack-kubelet",
            "severity": "none"
          },
          "annotations": {},
          "category": "UNKNOWN",
          "kb_enriched": false,
          "severity_score": 30,
          "impact_score": 50,
          "correlations": []
        },
        {
          "name": "CPUThrottlingHigh",
          "severity": "info",
          "count": 5,
          "duration": "unknown",
          "labels": {
            "__name__": "ALERTS",
            "alertname": "CPUThrottlingHigh",
            "alertstate": "firing",
            "container": "fluent-bit",
            "instance": "10.94.157.160:10250",
            "namespace": "bss-prod-eks-monitoring",
            "pod": "fluent-bit-x4px6",
            "service": "kube-prometheus-stack-kubelet",
            "severity": "info"
          },
          "annotations": {},
          "category": "UNKNOWN",
          "kb_enriched": false,
          "severity_score": 30,
          "impact_score": 50,
          "correlations": []
        },
        {
          "name": "TargetDown",
          "severity": "info",
          "count": 1,
          "duration": "unknown",
          "labels": {
            "__name__": "ALERTS",
            "alertname": "TargetDown",
            "alertstate": "firing",
            "job": "kubelet",
            "namespace": "kube-system",
            "service": "kube-prometheus-stack-bss-kubelet",
            "severity": "info"
          },
          "annotations": {},
          "category": "UNKNOWN",
          "kb_enriched": false,
          "severity_score": 30,
          "impact_score": 50,
          "correlations": []
        },
        {
          "name": "KubeHpaMaxedOut",
          "severity": "warning",
          "count": 1,
          "duration": "unknown",
          "labels": {
            "__name__": "ALERTS",
            "alertname": "KubeHpaMaxedOut",
            "alertstate": "firing",
            "container": "kube-state-metrics",
            "endpoint": "http",
            "horizontalpodautoscaler": "bss-tenant-control-plane-batch",
            "instance": "10.94.145.151:8080",
            "job": "kube-state-metrics",
            "namespace": "em-control-plane-prod",
            "pod": "kube-prometheus-stack-kube-state-metrics-84c7c44c96-ppvqf",
            "service": "kube-prometheus-stack-kube-state-metrics",
            "severity": "warning"
          },
          "annotations": {},
          "category": "UNKNOWN",
          "kb_enriched": false,
          "severity_score": 30,
          "impact_score": 50,
          "correlations": []
        },
        {
          "name": "KubeCPUOvercommit",
          "severity": "warning",
          "count": 1,
          "duration": "unknown",
          "labels": {
            "__name__": "ALERTS",
            "alertname": "KubeCPUOvercommit",
            "alertstate": "firing",
            "severity": "warning"
          },
          "annotations": {},
          "category": "UNKNOWN",
          "kb_enriched": false,
          "severity_score": 30,
          "impact_score": 50,
          "correlations": []
        }
      ],
      "alert_groups": [
        {
          "root_alert": "CPUThrottlingHigh",
          "related_alerts": [
            "InfoInhibitor",
            "KubeCPUOvercommit"
          ],
          "correlation_score": 0.5,
          "shared_labels": {
            "namespace": "bss-prod-eks-monitoring"
          }
        },
        {
          "root_alert": "Watchdog",
          "related_alerts": [
            "InfoInhibitor",
            "CPUThrottlingHigh",
            "TargetDown",
            "KubeHpaMaxedOut",
            "KubeCPUOvercommit"
          ],
          "correlation_score": 0.7,
          "category": "UNKNOWN",
          "shared_labels": {
            "__name__": "ALERTS",
            "alertstate": "firing"
          },
          "impact_analysis": {
            "total_impact": 300,
            "max_severity": 30,
            "cascade_risk": 1
          }
        }
      ],
      "knowledge_base_matches": [],
      "alert_patterns": {
        "recurring": [
          "CPUThrottlingHigh",
          "InfoInhibitor"
        ],
        "storm_detection": {
          "detected": false,
          "alert_count": 6,
          "time_window": "5m",
          "likely_root": null,
          "storm_category": null
        },
        "category_distribution": [
          {
            "category": "UNKNOWN",
            "count": 6,
            "percentage": "100.0"
          }
        ]
      },
      "slo_impact": {
        "availability_slo": {
          "target": "99.9%",
          "current": "100%",
          "error_budget_used": "0%",
          "time_remaining": "30d",
          "status": "green",
          "components": {
            "deployment_health": "100%"
          }
        },
        "affected_slis": []
      },
      "recommended_alert_actions": [
        {
          "alert": "KubeHpaMaxedOut",
          "action": "Check HPA configuration",
          "confidence": 0.9,
          "risk": "medium",
          "command": "kubectl describe hpa"
        },
        {
          "alert": "Watchdog",
          "action": "Investigate alert",
          "confidence": 0.3,
          "risk": "medium",
          "command": null,
          "category": "UNKNOWN",
          "priority": 50
        },
        {
          "alert": "InfoInhibitor",
          "action": "Investigate alert",
          "confidence": 0.3,
          "risk": "medium",
          "command": null,
          "category": "UNKNOWN",
          "priority": 50
        },
        {
          "alert": "CPUThrottlingHigh",
          "action": "Investigate alert",
          "confidence": 0.3,
          "risk": "medium",
          "command": null,
          "category": "UNKNOWN",
          "priority": 50
        },
        {
          "alert": "TargetDown",
          "action": "Investigate alert",
          "confidence": 0.3,
          "risk": "medium",
          "command": null,
          "category": "UNKNOWN",
          "priority": 50
        },
        {
          "alert": "KubeHpaMaxedOut",
          "action": "Investigate alert",
          "confidence": 0.3,
          "risk": "medium",
          "command": null,
          "category": "UNKNOWN",
          "priority": 50
        },
        {
          "alert": "KubeCPUOvercommit",
          "action": "Investigate alert",
          "confidence": 0.3,
          "risk": "medium",
          "command": null,
          "category": "UNKNOWN",
          "priority": 50
        }
      ],
      "proceed_to_stage4": true,
      "auto_remediation_approved": true,
      "_context": {
        "contextId": "ctx-1765884958296-sowzfe",
        "initialParams": {
          "startTime": 1765881358,
          "endTime": 1765884958
        },
        "stageResults": {
          "stage3": {
            "output": {
              "active_alerts": [
                {
                  "name": "Watchdog",
                  "severity": "none",
                  "count": 1,
                  "duration": "unknown",
                  "labels": {
                    "__name__": "ALERTS",
                    "alertname": "Watchdog",
                    "alertstate": "firing",
                    "severity": "none"
                  },
                  "annotations": {},
                  "category": "UNKNOWN",
                  "kb_enriched": false,
                  "severity_score": 30,
                  "impact_score": 50,
                  "correlations": []
                },
                {
                  "name": "InfoInhibitor",
                  "severity": "none",
                  "count": 6,
                  "duration": "unknown",
                  "labels": {
                    "__name__": "ALERTS",
                    "alertname": "InfoInhibitor",
                    "alertstate": "firing",
                    "container": "fluent-bit",
                    "instance": "10.94.217.52:10250",
                    "namespace": "bss-prod-eks-monitoring",
                    "pod": "fluent-bit-wqw26",
                    "service": "kube-prometheus-stack-kubelet",
                    "severity": "none"
                  },
                  "annotations": {},
                  "category": "UNKNOWN",
                  "kb_enriched": false,
                  "severity_score": 30,
                  "impact_score": 50,
                  "correlations": []
                },
                {
                  "name": "CPUThrottlingHigh",
                  "severity": "info",
                  "count": 5,
                  "duration": "unknown",
                  "labels": {
                    "__name__": "ALERTS",
                    "alertname": "CPUThrottlingHigh",
                    "alertstate": "firing",
                    "container": "fluent-bit",
                    "instance": "10.94.157.160:10250",
                    "namespace": "bss-prod-eks-monitoring",
                    "pod": "fluent-bit-x4px6",
                    "service": "kube-prometheus-stack-kubelet",
                    "severity": "info"
                  },
                  "annotations": {},
                  "category": "UNKNOWN",
                  "kb_enriched": false,
                  "severity_score": 30,
                  "impact_score": 50,
                  "correlations": []
                },
                {
                  "name": "TargetDown",
                  "severity": "info",
                  "count": 1,
                  "duration": "unknown",
                  "labels": {
                    "__name__": "ALERTS",
                    "alertname": "TargetDown",
                    "alertstate": "firing",
                    "job": "kubelet",
                    "namespace": "kube-system",
                    "service": "kube-prometheus-stack-bss-kubelet",
                    "severity": "info"
                  },
                  "annotations": {},
                  "category": "UNKNOWN",
                  "kb_enriched": false,
                  "severity_score": 30,
                  "impact_score": 50,
                  "correlations": []
                },
                {
                  "name": "KubeHpaMaxedOut",
                  "severity": "warning",
                  "count": 1,
                  "duration": "unknown",
                  "labels": {
                    "__name__": "ALERTS",
                    "alertname": "KubeHpaMaxedOut",
                    "alertstate": "firing",
                    "container": "kube-state-metrics",
                    "endpoint": "http",
                    "horizontalpodautoscaler": "bss-tenant-control-plane-batch",
                    "instance": "10.94.145.151:8080",
                    "job": "kube-state-metrics",
                    "namespace": "em-control-plane-prod",
                    "pod": "kube-prometheus-stack-kube-state-metrics-84c7c44c96-ppvqf",
                    "service": "kube-prometheus-stack-kube-state-metrics",
                    "severity": "warning"
                  },
                  "annotations": {},
                  "category": "UNKNOWN",
                  "kb_enriched": false,
                  "severity_score": 30,
                  "impact_score": 50,
                  "correlations": []
                },
                {
                  "name": "KubeCPUOvercommit",
                  "severity": "warning",
                  "count": 1,
                  "duration": "unknown",
                  "labels": {
                    "__name__": "ALERTS",
                    "alertname": "KubeCPUOvercommit",
                    "alertstate": "firing",
                    "severity": "warning"
                  },
                  "annotations": {},
                  "category": "UNKNOWN",
                  "kb_enriched": false,
                  "severity_score": 30,
                  "impact_score": 50,
                  "correlations": []
                }
              ],
              "alert_groups": [
                {
                  "root_alert": "CPUThrottlingHigh",
                  "related_alerts": [
                    "InfoInhibitor",
                    "KubeCPUOvercommit"
                  ],
                  "correlation_score": 0.5,
                  "shared_labels": {
                    "namespace": "bss-prod-eks-monitoring"
                  }
                },
                {
                  "root_alert": "Watchdog",
                  "related_alerts": [
                    "InfoInhibitor",
                    "CPUThrottlingHigh",
                    "TargetDown",
                    "KubeHpaMaxedOut",
                    "KubeCPUOvercommit"
                  ],
                  "correlation_score": 0.7,
                  "category": "UNKNOWN",
                  "shared_labels": {
                    "__name__": "ALERTS",
                    "alertstate": "firing"
                  },
                  "impact_analysis": {
                    "total_impact": 300,
                    "max_severity": 30,
                    "cascade_risk": 1
                  }
                }
              ],
              "knowledge_base_matches": [],
              "alert_patterns": {
                "recurring": [
                  "CPUThrottlingHigh",
                  "InfoInhibitor"
                ],
                "storm_detection": {
                  "detected": false,
                  "alert_count": 6,
                  "time_window": "5m",
                  "likely_root": null,
                  "storm_category": null
                },
                "category_distribution": [
                  {
                    "category": "UNKNOWN",
                    "count": 6,
                    "percentage": "100.0"
                  }
                ]
              },
              "slo_impact": {
                "availability_slo": {
                  "target": "99.9%",
                  "current": "100%",
                  "error_budget_used": "0%",
                  "time_remaining": "30d",
                  "status": "green",
                  "components": {
                    "deployment_health": "100%"
                  }
                },
                "affected_slis": []
              },
              "recommended_alert_actions": [
                {
                  "alert": "KubeHpaMaxedOut",
                  "action": "Check HPA configuration",
                  "confidence": 0.9,
                  "risk": "medium",
                  "command": "kubectl describe hpa"
                },
                {
                  "alert": "Watchdog",
                  "action": "Investigate alert",
                  "confidence": 0.3,
                  "risk": "medium",
                  "command": null,
                  "category": "UNKNOWN",
                  "priority": 50
                },
                {
                  "alert": "InfoInhibitor",
                  "action": "Investigate alert",
                  "confidence": 0.3,
                  "risk": "medium",
                  "command": null,
                  "category": "UNKNOWN",
                  "priority": 50
                },
                {
                  "alert": "CPUThrottlingHigh",
                  "action": "Investigate alert",
                  "confidence": 0.3,
                  "risk": "medium",
                  "command": null,
                  "category": "UNKNOWN",
                  "priority": 50
                },
                {
                  "alert": "TargetDown",
                  "action": "Investigate alert",
                  "confidence": 0.3,
                  "risk": "medium",
                  "command": null,
                  "category": "UNKNOWN",
                  "priority": 50
                },
                {
                  "alert": "KubeHpaMaxedOut",
                  "action": "Investigate alert",
                  "confidence": 0.3,
                  "risk": "medium",
                  "command": null,
                  "category": "UNKNOWN",
                  "priority": 50
                },
                {
                  "alert": "KubeCPUOvercommit",
                  "action": "Investigate alert",
                  "confidence": 0.3,
                  "risk": "medium",
                  "command": null,
                  "category": "UNKNOWN",
                  "priority": 50
                }
              ],
              "proceed_to_stage4": true,
              "auto_remediation_approved": true,
              "alert_category": "APPLICATION"
            },
            "completedAt": "2025-12-16T11:36:47.115Z",
            "decision": true
          }
        },
        "decisions": {
          "forceDeepAnalysisOverride": {
            "timestamp": "2025-12-16T11:36:19.846Z",
            "forceDeepAnalysis": true,
            "overrideApplied": true,
            "reason": "Deep analysis forced due to critical priority from alert-listener"
          },
          "stage3Proceed": {
            "timestamp": "2025-12-16T11:36:32.731Z",
            "shouldProceed": true,
            "reason": "Priority or category requires full analysis"
          },
          "stage4Proceed": {
            "timestamp": "2025-12-16T11:36:47.115Z",
            "shouldProceed": true,
            "autoRemediationApproved": true,
            "alertCount": 6,
            "sloImpact": "100%",
            "alertStorm": false,
            "primaryCategory": "APPLICATION"
          }
        }
      },
      "_debug": {
        "nodeType": "Stage 3: Alert Intelligence",
        "processedAt": "2023-11-15T06:56:34.000Z",
        "contextId": "ctx-1765884958296-sowzfe",
        "contextPreserved": true,
        "receivedFromStage": "Fix Stage 2 Context",
        "priority": "critical",
        "alertCategory": "APPLICATION",
        "rootCauseIdentified": false,
        "correlationPatternsApplied": true,
        "stormDetected": false,
        "sloToolErrors": [],
        "stageSequence": [
          "Unified Entry Point",
          "Stage 1: Health Snapshot",
          "Fix Stage 1 Context",
          "Stage 2 Decision",
          "Force Deep Analysis Override",
          "Wait 3s",
          "Stage 2: Deep Analysis",
          "Fix Stage 2 Context",
          "Stage 3: Alert Intelligence",
          "Fix Stage 3 Context"
        ],
        "timeRangeUsed": {
          "start": 1765881358,
          "end": 1765884958
        }
      }
    },
    "_context": {
      "contextId": "ctx-1765884958296-sowzfe",
      "initialParams": {
        "startTime": 1765881358,
        "endTime": 1765884958
      },
      "stageResults": {
        "stage3": {
          "output": {
            "active_alerts": [
              {
                "name": "Watchdog",
                "severity": "none",
                "count": 1,
                "duration": "unknown",
                "labels": {
                  "__name__": "ALERTS",
                  "alertname": "Watchdog",
                  "alertstate": "firing",
                  "severity": "none"
                },
                "annotations": {},
                "category": "UNKNOWN",
                "kb_enriched": false,
                "severity_score": 30,
                "impact_score": 50,
                "correlations": []
              },
              {
                "name": "InfoInhibitor",
                "severity": "none",
                "count": 6,
                "duration": "unknown",
                "labels": {
                  "__name__": "ALERTS",
                  "alertname": "InfoInhibitor",
                  "alertstate": "firing",
                  "container": "fluent-bit",
                  "instance": "10.94.217.52:10250",
                  "namespace": "bss-prod-eks-monitoring",
                  "pod": "fluent-bit-wqw26",
                  "service": "kube-prometheus-stack-kubelet",
                  "severity": "none"
                },
                "annotations": {},
                "category": "UNKNOWN",
                "kb_enriched": false,
                "severity_score": 30,
                "impact_score": 50,
                "correlations": []
              },
              {
                "name": "CPUThrottlingHigh",
                "severity": "info",
                "count": 5,
                "duration": "unknown",
                "labels": {
                  "__name__": "ALERTS",
                  "alertname": "CPUThrottlingHigh",
                  "alertstate": "firing",
                  "container": "fluent-bit",
                  "instance": "10.94.157.160:10250",
                  "namespace": "bss-prod-eks-monitoring",
                  "pod": "fluent-bit-x4px6",
                  "service": "kube-prometheus-stack-kubelet",
                  "severity": "info"
                },
                "annotations": {},
                "category": "UNKNOWN",
                "kb_enriched": false,
                "severity_score": 30,
                "impact_score": 50,
                "correlations": []
              },
              {
                "name": "TargetDown",
                "severity": "info",
                "count": 1,
                "duration": "unknown",
                "labels": {
                  "__name__": "ALERTS",
                  "alertname": "TargetDown",
                  "alertstate": "firing",
                  "job": "kubelet",
                  "namespace": "kube-system",
                  "service": "kube-prometheus-stack-bss-kubelet",
                  "severity": "info"
                },
                "annotations": {},
                "category": "UNKNOWN",
                "kb_enriched": false,
                "severity_score": 30,
                "impact_score": 50,
                "correlations": []
              },
              {
                "name": "KubeHpaMaxedOut",
                "severity": "warning",
                "count": 1,
                "duration": "unknown",
                "labels": {
                  "__name__": "ALERTS",
                  "alertname": "KubeHpaMaxedOut",
                  "alertstate": "firing",
                  "container": "kube-state-metrics",
                  "endpoint": "http",
                  "horizontalpodautoscaler": "bss-tenant-control-plane-batch",
                  "instance": "10.94.145.151:8080",
                  "job": "kube-state-metrics",
                  "namespace": "em-control-plane-prod",
                  "pod": "kube-prometheus-stack-kube-state-metrics-84c7c44c96-ppvqf",
                  "service": "kube-prometheus-stack-kube-state-metrics",
                  "severity": "warning"
                },
                "annotations": {},
                "category": "UNKNOWN",
                "kb_enriched": false,
                "severity_score": 30,
                "impact_score": 50,
                "correlations": []
              },
              {
                "name": "KubeCPUOvercommit",
                "severity": "warning",
                "count": 1,
                "duration": "unknown",
                "labels": {
                  "__name__": "ALERTS",
                  "alertname": "KubeCPUOvercommit",
                  "alertstate": "firing",
                  "severity": "warning"
                },
                "annotations": {},
                "category": "UNKNOWN",
                "kb_enriched": false,
                "severity_score": 30,
                "impact_score": 50,
                "correlations": []
              }
            ],
            "alert_groups": [
              {
                "root_alert": "CPUThrottlingHigh",
                "related_alerts": [
                  "InfoInhibitor",
                  "KubeCPUOvercommit"
                ],
                "correlation_score": 0.5,
                "shared_labels": {
                  "namespace": "bss-prod-eks-monitoring"
                }
              },
              {
                "root_alert": "Watchdog",
                "related_alerts": [
                  "InfoInhibitor",
                  "CPUThrottlingHigh",
                  "TargetDown",
                  "KubeHpaMaxedOut",
                  "KubeCPUOvercommit"
                ],
                "correlation_score": 0.7,
                "category": "UNKNOWN",
                "shared_labels": {
                  "__name__": "ALERTS",
                  "alertstate": "firing"
                },
                "impact_analysis": {
                  "total_impact": 300,
                  "max_severity": 30,
                  "cascade_risk": 1
                }
              }
            ],
            "knowledge_base_matches": [],
            "alert_patterns": {
              "recurring": [
                "CPUThrottlingHigh",
                "InfoInhibitor"
              ],
              "storm_detection": {
                "detected": false,
                "alert_count": 6,
                "time_window": "5m",
                "likely_root": null,
                "storm_category": null
              },
              "category_distribution": [
                {
                  "category": "UNKNOWN",
                  "count": 6,
                  "percentage": "100.0"
                }
              ]
            },
            "slo_impact": {
              "availability_slo": {
                "target": "99.9%",
                "current": "100%",
                "error_budget_used": "0%",
                "time_remaining": "30d",
                "status": "green",
                "components": {
                  "deployment_health": "100%"
                }
              },
              "affected_slis": []
            },
            "recommended_alert_actions": [
              {
                "alert": "KubeHpaMaxedOut",
                "action": "Check HPA configuration",
                "confidence": 0.9,
                "risk": "medium",
                "command": "kubectl describe hpa"
              },
              {
                "alert": "Watchdog",
                "action": "Investigate alert",
                "confidence": 0.3,
                "risk": "medium",
                "command": null,
                "category": "UNKNOWN",
                "priority": 50
              },
              {
                "alert": "InfoInhibitor",
                "action": "Investigate alert",
                "confidence": 0.3,
                "risk": "medium",
                "command": null,
                "category": "UNKNOWN",
                "priority": 50
              },
              {
                "alert": "CPUThrottlingHigh",
                "action": "Investigate alert",
                "confidence": 0.3,
                "risk": "medium",
                "command": null,
                "category": "UNKNOWN",
                "priority": 50
              },
              {
                "alert": "TargetDown",
                "action": "Investigate alert",
                "confidence": 0.3,
                "risk": "medium",
                "command": null,
                "category": "UNKNOWN",
                "priority": 50
              },
              {
                "alert": "KubeHpaMaxedOut",
                "action": "Investigate alert",
                "confidence": 0.3,
                "risk": "medium",
                "command": null,
                "category": "UNKNOWN",
                "priority": 50
              },
              {
                "alert": "KubeCPUOvercommit",
                "action": "Investigate alert",
                "confidence": 0.3,
                "risk": "medium",
                "command": null,
                "category": "UNKNOWN",
                "priority": 50
              }
            ],
            "proceed_to_stage4": true,
            "auto_remediation_approved": true,
            "alert_category": "APPLICATION"
          },
          "completedAt": "2025-12-16T11:36:47.115Z",
          "decision": true,
          "kbEnhanced": true,
          "alertCategory": "APPLICATION",
          "urgencyLevel": "CRITICAL",
          "kbEnhancedAlerts": 0
        }
      }
    },
    "contextId": "ctx-1765884958296-sowzfe",
    "stage3Data": {
      "active_alerts": [
        {
          "name": "Watchdog",
          "severity": "none",
          "count": 1,
          "duration": "unknown",
          "labels": {
            "__name__": "ALERTS",
            "alertname": "Watchdog",
            "alertstate": "firing",
            "severity": "none"
          },
          "annotations": {},
          "category": "UNKNOWN",
          "kb_enriched": false,
          "severity_score": 30,
          "impact_score": 50,
          "correlations": []
        },
        {
          "name": "InfoInhibitor",
          "severity": "none",
          "count": 6,
          "duration": "unknown",
          "labels": {
            "__name__": "ALERTS",
            "alertname": "InfoInhibitor",
            "alertstate": "firing",
            "container": "fluent-bit",
            "instance": "10.94.217.52:10250",
            "namespace": "bss-prod-eks-monitoring",
            "pod": "fluent-bit-wqw26",
            "service": "kube-prometheus-stack-kubelet",
            "severity": "none"
          },
          "annotations": {},
          "category": "UNKNOWN",
          "kb_enriched": false,
          "severity_score": 30,
          "impact_score": 50,
          "correlations": []
        },
        {
          "name": "CPUThrottlingHigh",
          "severity": "info",
          "count": 5,
          "duration": "unknown",
          "labels": {
            "__name__": "ALERTS",
            "alertname": "CPUThrottlingHigh",
            "alertstate": "firing",
            "container": "fluent-bit",
            "instance": "10.94.157.160:10250",
            "namespace": "bss-prod-eks-monitoring",
            "pod": "fluent-bit-x4px6",
            "service": "kube-prometheus-stack-kubelet",
            "severity": "info"
          },
          "annotations": {},
          "category": "UNKNOWN",
          "kb_enriched": false,
          "severity_score": 30,
          "impact_score": 50,
          "correlations": []
        },
        {
          "name": "TargetDown",
          "severity": "info",
          "count": 1,
          "duration": "unknown",
          "labels": {
            "__name__": "ALERTS",
            "alertname": "TargetDown",
            "alertstate": "firing",
            "job": "kubelet",
            "namespace": "kube-system",
            "service": "kube-prometheus-stack-bss-kubelet",
            "severity": "info"
          },
          "annotations": {},
          "category": "UNKNOWN",
          "kb_enriched": false,
          "severity_score": 30,
          "impact_score": 50,
          "correlations": []
        },
        {
          "name": "KubeHpaMaxedOut",
          "severity": "warning",
          "count": 1,
          "duration": "unknown",
          "labels": {
            "__name__": "ALERTS",
            "alertname": "KubeHpaMaxedOut",
            "alertstate": "firing",
            "container": "kube-state-metrics",
            "endpoint": "http",
            "horizontalpodautoscaler": "bss-tenant-control-plane-batch",
            "instance": "10.94.145.151:8080",
            "job": "kube-state-metrics",
            "namespace": "em-control-plane-prod",
            "pod": "kube-prometheus-stack-kube-state-metrics-84c7c44c96-ppvqf",
            "service": "kube-prometheus-stack-kube-state-metrics",
            "severity": "warning"
          },
          "annotations": {},
          "category": "UNKNOWN",
          "kb_enriched": false,
          "severity_score": 30,
          "impact_score": 50,
          "correlations": []
        },
        {
          "name": "KubeCPUOvercommit",
          "severity": "warning",
          "count": 1,
          "duration": "unknown",
          "labels": {
            "__name__": "ALERTS",
            "alertname": "KubeCPUOvercommit",
            "alertstate": "firing",
            "severity": "warning"
          },
          "annotations": {},
          "category": "UNKNOWN",
          "kb_enriched": false,
          "severity_score": 30,
          "impact_score": 50,
          "correlations": []
        }
      ],
      "alert_groups": [
        {
          "root_alert": "CPUThrottlingHigh",
          "related_alerts": [
            "InfoInhibitor",
            "KubeCPUOvercommit"
          ],
          "correlation_score": 0.5,
          "shared_labels": {
            "namespace": "bss-prod-eks-monitoring"
          }
        },
        {
          "root_alert": "Watchdog",
          "related_alerts": [
            "InfoInhibitor",
            "CPUThrottlingHigh",
            "TargetDown",
            "KubeHpaMaxedOut",
            "KubeCPUOvercommit"
          ],
          "correlation_score": 0.7,
          "category": "UNKNOWN",
          "shared_labels": {
            "__name__": "ALERTS",
            "alertstate": "firing"
          },
          "impact_analysis": {
            "total_impact": 300,
            "max_severity": 30,
            "cascade_risk": 1
          }
        }
      ],
      "knowledge_base_matches": [],
      "slo_impact": {
        "availability_slo": {
          "target": "99.9%",
          "current": "100%",
          "error_budget_used": "0%",
          "time_remaining": "30d",
          "status": "green",
          "components": {
            "deployment_health": "100%"
          }
        },
        "affected_slis": []
      },
      "recommended_actions": [
        {
          "alert": "KubeHpaMaxedOut",
          "action": "Check HPA configuration",
          "confidence": 0.9,
          "risk": "medium",
          "command": "kubectl describe hpa"
        },
        {
          "alert": "Watchdog",
          "action": "Investigate alert",
          "confidence": 0.3,
          "risk": "medium",
          "command": null,
          "category": "UNKNOWN",
          "priority": 50
        },
        {
          "alert": "InfoInhibitor",
          "action": "Investigate alert",
          "confidence": 0.3,
          "risk": "medium",
          "command": null,
          "category": "UNKNOWN",
          "priority": 50
        },
        {
          "alert": "CPUThrottlingHigh",
          "action": "Investigate alert",
          "confidence": 0.3,
          "risk": "medium",
          "command": null,
          "category": "UNKNOWN",
          "priority": 50
        },
        {
          "alert": "TargetDown",
          "action": "Investigate alert",
          "confidence": 0.3,
          "risk": "medium",
          "command": null,
          "category": "UNKNOWN",
          "priority": 50
        },
        {
          "alert": "KubeHpaMaxedOut",
          "action": "Investigate alert",
          "confidence": 0.3,
          "risk": "medium",
          "command": null,
          "category": "UNKNOWN",
          "priority": 50
        },
        {
          "alert": "KubeCPUOvercommit",
          "action": "Investigate alert",
          "confidence": 0.3,
          "risk": "medium",
          "command": null,
          "category": "UNKNOWN",
          "priority": 50
        }
      ],
      "auto_remediation_approved": true,
      "proceed_to_stage4": true,
      "kb_enriched_count": 0,
      "alert_category": "APPLICATION",
      "alert_patterns": {
        "recurring": [
          "CPUThrottlingHigh",
          "InfoInhibitor"
        ],
        "storm_detection": {
          "detected": false,
          "alert_count": 6,
          "time_window": "5m",
          "likely_root": null,
          "storm_category": null
        },
        "category_distribution": [
          {
            "category": "UNKNOWN",
            "count": 6,
            "percentage": "100.0"
          }
        ]
      },
      "correlation_analysis": {
        "groups_found": 2,
        "storm_detected": false,
        "primary_category": "APPLICATION",
        "category_distribution": [
          {
            "category": "UNKNOWN",
            "count": 6,
            "percentage": "100.0"
          }
        ]
      }
    },
    "stage1Data": {
      "overall_status": "critical",
      "alerts": {
        "total": 1,
        "critical": 1,
        "warning": 0,
        "top_alerts": [
          "KubePodCrashLooping"
        ]
      },
      "scores": {
        "cluster_health": 50,
        "node_availability": 100,
        "pod_stability": 20,
        "api_reliability": 100
      },
      "quick_findings": [
        "Pod domain-config-service-t3-645d68cbc8-4h88r is crash looping.",
        "No other alerts detected in the same namespace.",
        "Cluster health is degraded due to pod instability."
      ]
    },
    "stage2Data": {
      "root_cause": {
        "identified": false,
        "category": "APPLICATION"
      },
      "affected_services": [
        "prometheus-kube-state-metrics",
        "kube-state-metrics",
        "domain-config-service"
      ],
      "critical_pods": [],
      "cascading_effects": {
        "hasCascadingFailures": false,
        "affectedComponents": [],
        "spreadPattern": "isolated",
        "cascadeCategory": "APPLICATION"
      },
      "correlation_matrix": {
        "primary_chain": "service",
        "affected_services": [
          "prometheus-kube-state-metrics",
          "kube-state-metrics",
          "domain-config-service"
        ],
        "blast_radius": "service",
        "kubernetes_impact": {
          "evicted_pods": 0,
          "pending_pods": 0,
          "failed_schedules": 0
        }
      },
      "alert_category": "APPLICATION"
    },
    "stage4PrepData": {
      "rootCause": {
        "identified": false,
        "category": "APPLICATION"
      },
      "affectedServices": [
        "prometheus-kube-state-metrics",
        "kube-state-metrics",
        "domain-config-service"
      ],
      "criticalPods": [],
      "primaryAlert": {
        "name": "Watchdog",
        "severity": "none",
        "count": 1,
        "duration": "unknown",
        "labels": {
          "__name__": "ALERTS",
          "alertname": "Watchdog",
          "alertstate": "firing",
          "severity": "none"
        },
        "annotations": {},
        "category": "UNKNOWN",
        "kb_enriched": false,
        "severity_score": 30,
        "impact_score": 50,
        "correlations": []
      },
      "kbMatches": [],
      "contextId": "ctx-1765884958296-sowzfe",
      "alertCategory": "APPLICATION",
      "correlationGroups": [
        {
          "root_alert": "CPUThrottlingHigh",
          "related_alerts": [
            "InfoInhibitor",
            "KubeCPUOvercommit"
          ],
          "correlation_score": 0.5,
          "shared_labels": {
            "namespace": "bss-prod-eks-monitoring"
          }
        },
        {
          "root_alert": "Watchdog",
          "related_alerts": [
            "InfoInhibitor",
            "CPUThrottlingHigh",
            "TargetDown",
            "KubeHpaMaxedOut",
            "KubeCPUOvercommit"
          ],
          "correlation_score": 0.7,
          "category": "UNKNOWN",
          "shared_labels": {
            "__name__": "ALERTS",
            "alertstate": "firing"
          },
          "impact_analysis": {
            "total_impact": 300,
            "max_severity": 30,
            "cascade_risk": 1
          }
        }
      ]
    },
    "namespaces": [
      "etiyamobile-production"
    ],
    "timeRange": {
      "start": 1765881358,
      "end": 1765884958
    },
    "knowledgeBase": {
      "alertCategory": "APPLICATION",
      "urgencyLevel": "CRITICAL",
      "cascadeRisk": "MEDIUM",
      "kbEntriesAvailable": 9,
      "enhancementVersion": "KB-Enhanced-Full-v1.0",
      "kbEnhancedAlerts": 0
    },
    "alertKBStats": {
      "alertCategory": "APPLICATION",
      "urgencyLevel": "CRITICAL",
      "cascadeRisk": "MEDIUM",
      "kbAlertKnowledgeBase": {
        "severity": "critical",
        "description": "Pod repeatedly crashes after starting",
        "commonCauses": [
          "Application bugs",
          "Missing configs/secrets",
          "Resource limits exceeded",
          "Invalid probe settings"
        ],
        "troubleshootingSteps": [
          "kubectl logs [pod] --previous",
          "kubectl describe pod [pod]",
          "kubectl get events --field-selector involvedObject.name=[pod]",
          "kubectl top pod [pod]"
        ],
        "expectedResults": [
          "Logs show application errors",
          "RestartCount > 5",
          "OOMKilled/ExitCode in status",
          "FailedScheduling events"
        ],
        "immediateActions": [
          "Rollback deployment",
          "Increase memory limits",
          "Fix probe configuration",
          "Check secret mounts"
        ],
        "longTermSolutions": [
          "Implement CI/CD health checks",
          "Add resource quotas",
          "Configure proper liveness probes"
        ],
        "requiredMetrics": [
          "kube_pod_container_status_restarts_total",
          "kube_pod_status_phase"
        ],
        "cascadeCheckPoints": [
          "service_availability",
          "deployment_health",
          "application_performance"
        ]
      },
      "kbEnhanced": true,
      "kbEntriesLoaded": 9,
      "totalCategories": 151,
      "totalMappings": 12,
      "exportedAt": "2025-12-16T11:36:47.116Z",
      "debug": {
        "originalUrgency": "CRITICAL",
        "originalCascadeRisk": "MEDIUM",
        "severityScore": 91,
        "hasKBData": true
      }
    },
    "_debugInfo": {
      "fromNode": "Fix Stage 3 Context",
      "contextFixed": true,
      "validationPassed": true,
      "stage3AlertCount": 6,
      "stage3Decision": true,
      "alertCategory": "APPLICATION",
      "correlationGroupsFound": 2,
      "stormDetected": false,
      "allStagesDataPresent": true,
      "kbEnhanced": true,
      "kbEnhancedAlertsCount": 0,
      "timestamp": "2025-12-16T11:36:47.117Z"
    }
  }
]